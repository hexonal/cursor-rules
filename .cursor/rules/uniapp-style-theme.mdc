---
description: 
globs: 
alwaysApply: false
---
# Vue3 + UniApp 样式与主题严谨规范（chat-uikit-uniapp 范例）

> 适用于所有基于 Vue3 + UniApp 的项目，参考 chat-uikit-uniapp（Vue3 版）源码最佳实践。所有规范均分为【强制（MUST）】【推荐（SHOULD）】【禁止（MUST NOT）】，并补充边界、变更同步要求。

---

## 规则适用强制边界与未覆盖场景处理
- 【MUST】仅允许对本规范明确覆盖的样式结构、变量管理、主题定制、样式隔离、响应式布局进行修改，且必须严格遵循对应条款。
- 【MUST NOT】不得修改未被本规范明确提及的样式结构、变量管理、主题定制、样式隔离、响应式布局，除非先补充规则并团队评审通过。
- 【MUST】变更发起人需在 PR/commit 明确标注所依据的规则条款编号或链接。
- 【MUST】reviewer 必须逐条核查变更是否有规则依据，无依据则驳回并要求补充规则。
- 【MUST】所有规则变更、例外、评审意见需归档，便于历史回溯和责任追踪。
- 【SHOULD】团队定期回顾规则，版本管理，确保与实际开发同步。
- 【正例】样式变量调整、主题切换方案优化，PR 说明"依据1.SCSS结构与变量管理"，同步更新依赖、文档。
- 【反例】直接新增/修改样式变量、主题方案，无规则依据，PR被驳回。

---

## 1. SCSS 结构与变量管理
- 【MUST】全局样式变量统一在 styles/color/、styles/common/ 等目录集中管理。
- 【MUST】组件样式文件单独放在 style/ 目录，命名为 index.scss 或 [组件名].scss。
- 【MUST】所有颜色、间距、字号等均用 SCSS 变量，不允许硬编码。
- 【MUST】样式变量变更需同步依赖方、文档、测试。

### 正例
```scss
// styles/color/_theme.scss
$primary-color: #006eff;
$border-radius: 8rpx;
```

## 2. 主题定制与动态切换
- 【MUST】支持多主题（如浅色/深色），主题变量用 SCSS map 管理。
- 【MUST】动态切换主题时通过切换根 class 或变量注入。
- 【MUST】主题切换方案变更需同步依赖方、文档、测试。

## 3. 样式隔离与 scoped
- 【MUST】组件样式必须加 scoped，避免全局污染。
- 【MUST】公共样式（如 reset、flex 工具类）单独维护，不与业务样式混杂。
- 【MUST NOT】组件样式未加 scoped 或污染全局。

## 4. 响应式布局与 rpx
- 【MUST】所有尺寸、间距、字号等统一用 rpx 单位，适配多端屏幕。
- 【MUST】布局用 flex，避免绝对定位。
- 【MUST】响应式布局变更需同步依赖方、文档、测试。

## 5. 其他规范
- 【MUST NOT】在组件内写内联样式，样式统一写在 scss 文件。
- 【MUST】样式文件需有注释说明变量和主题用途。
- 【MUST】样式变更需同步更新依赖、文档、测试。

## 6. 适用范围与边界说明
- 【MUST】本规范适用于所有样式结构、变量管理、主题定制、样式隔离、响应式布局。
- 【MUST NOT】不得修改未被本规范明确提及的样式结构、变量管理、主题定制、样式隔离、响应式布局。
- 如遇特殊业务需求，可在 README.md 说明例外并团队评审。

## 7. 正反例
### 正例
```scss
// styles/color/_theme.scss
$primary-color: #006eff;
$border-radius: 8rpx;
```
### 反例
```scss
// 组件内直接写 style="color: #333;"
// 组件样式未加 scoped
```
